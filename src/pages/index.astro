---
import { sanityClient } from "../sanity-client";
import { LIST_QUERY } from "../groq/list";
import Layout from "../layouts/Layout.astro";
import "../styles/global.css";
import Card from "../components/Card.astro";

const data = await sanityClient.fetch(LIST_QUERY);
const employee = data?.items;
---

<Layout title='Welcome to Astro.'>
  <div class='w-full px-4 py-5 mx-auto grid justify-center max-w-[1040px]'>
    <h1 class='my-10 pt-1 font-semibold text-4xl'>{data.name}</h1>

    {
      employee && (
        <ul class='grid md:grid-cols-2 lg:grid-cols-3 gap-5'>
          {employee.map((employee: any) => (
            <Card {employee} />
          ))}
        </ul>
      )
    }
  </div>
</Layout>
